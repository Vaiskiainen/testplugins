(function(c,d,i,o,G){"use strict";const{FormText:p}=G.Forms;function y(){return React.createElement(p,null,"Coming soon!")}o.storage.removeBanner??=!0,o.storage.removeSplash??=!1,o.storage.aggressiveMode??=!0,o.storage.whitelist??=[];let u=[];const f=function(r){if(!r||typeof r!="object")return r;const e=Object.create(Object.getPrototypeOf(r));return Object.assign(e,r),e},h=function(){try{const r=i.findByProps("fetchGuild","fetchGuilds","fetchGuildPreview"),e=i.findByStoreName("GuildStore")||i.findByStoreName("GuildCacheStore"),a=e&&(e.getGuilds?e.getGuilds():e.guilds||{})||{},t=Object.keys(a);if(!t.length)return;t.forEach(function(n){try{r?.fetchGuild?r.fetchGuild(n):r?.fetchGuilds?r.fetchGuilds([n]):r?.fetchGuildPreview&&r.fetchGuildPreview(n)}catch{}})}catch{}};var B={onLoad(){const r=function(){return u.forEach(function(e){return e?.()})};(function(){if(r(),u=[],[i.findByProps("getGuild"),i.findByStoreName("GuildCacheStore"),i.findByStoreName("GuildStore")].filter(Boolean).forEach(function(e){e.getGuild&&u.push(d.after("getGuild",e,function(a,t){if(!t)return t;const n=t.id,s=o.storage.removeBanner&&!o.storage.whitelist.includes(n),g=o.storage.removeSplash&&!o.storage.whitelist.includes(n);if(!s&&!g)return t;const l=f(t);return s&&(l.banner=null,l.bannerId=null),g&&(l.splash=null),l}))}),[i.findByProps("getGuildBannerURL"),i.findByProps("getGuildSplashURL")].filter(Boolean).forEach(function(e){e.getGuildBannerURL&&u.push(d.after("getGuildBannerURL",e,function(a,t){const n=a[0];return!o.storage.removeBanner||n&&o.storage.whitelist.includes(n.id)?t:null})),e.getGuildSplashURL&&u.push(d.after("getGuildSplashURL",e,function(a,t){const n=a[0];return!o.storage.removeSplash||n&&o.storage.whitelist.includes(n.id)?t:null}))}),o.storage.aggressiveMode){const e=i.findByProps("GuildHeader")?.GuildHeader||i.findByDisplayName("GuildHeader",!1);e?.prototype?.render&&u.push(d.after("render",e.prototype,function(a,t){const n=t?.props?.guild;if(!n||o.storage.whitelist.includes(n.id))return t;const s={...t};return s.props={...t.props},s.props.guild=f(t.props.guild),s.props.banner=null,s.props.bannerSource=null,s.props.guild.banner=null,s}))}})();try{h()}catch{}},onUnload(){u.forEach(function(r){return r?.()});try{h()}catch{}},settings:y};return c.default=B,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.patcher,vendetta.metro,vendetta.plugin,vendetta.ui.components);
