(function(d,p,h,l,s,o,S,B,r){"use strict";const{FormSection:R,FormRow:i,FormInput:I,FormDivider:g}=S.Forms;h.findByProps("Button","ButtonColors","ButtonSizes")?.Button;const y=h.findByProps("launchImageLibrary");function L(){B.useProxy(l.storage);const[e,t]=r.React.useState(l.storage.splashURL||""),n=function(){l.storage.splashURL=e,s.showToast("Splash URL saved",o.getAssetIDByName("Check"))},f=async function(){if(!y){s.showToast("ImagePicker not found",o.getAssetIDByName("Small"));return}try{y.launchImageLibrary({mediaType:"photo",includeBase64:!1},function(c){if(!c.didCancel){if(c.errorCode){s.showToast("Error picking image",o.getAssetIDByName("Small"));return}c.assets&&c.assets.length>0&&t(c.assets[0].uri)}})}catch(c){console.error(c),s.showToast("Failed to open picker",o.getAssetIDByName("Small"))}};return r.React.createElement(R,{title:"Configuration"},r.React.createElement(I,{title:"Custom Splash Image URL",placeholder:"https://example.com/image.png",value:e,onChange:t}),r.React.createElement(g,null),r.React.createElement(i,{label:"Select from Gallery",leading:r.React.createElement(i.Icon,{source:o.getAssetIDByName("ic_image")}),onPress:f}),r.React.createElement(g,null),r.React.createElement(i,{label:"Save",leading:r.React.createElement(i.Icon,{source:o.getAssetIDByName("ic_save")}),onPress:n}))}const a=h.findByProps("LaunchScreen");let u;function m(e){if(!e||!e.props)return!1;let t=!1;if(e.props.source&&(e.props.source={uri:l.storage.splashURL},e.props.resizeMode="contain",t=!0),e.props.children)if(Array.isArray(e.props.children))for(const n of e.props.children)m(n)&&(t=!0);else m(e.props.children)&&(t=!0);return t}var v={onLoad:function(){if(!a){console.error("CustomSplash: LaunchScreen not found"),s.showToast("CustomSplash: LaunchScreen not found",o.getAssetIDByName("Small"));return}const e=function(t,n){if(!l.storage.splashURL)return n;try{const f=m(n)}catch(f){console.error("CustomSplash: Failed to replace image",f)}return n};if(a.default)u=p.patcher.after("default",a,e);else if(a.LaunchScreen)u=p.patcher.after("LaunchScreen",a,e);else{const t=Object.keys(a).find(function(n){return typeof a[n]=="function"||typeof a[n]=="object"});t?u=p.patcher.after(t,a,e):s.showToast("Could not find component in LaunchScreen module",o.getAssetIDByName("Small"))}},onUnload:function(){u?.()},settings:L};return d.default=v,Object.defineProperty(d,"__esModule",{value:!0}),d})({},vendetta,vendetta.metro,vendetta.plugin,vendetta.ui.toasts,vendetta.ui.assets,vendetta.ui.components,vendetta.storage,vendetta.metro.common);
