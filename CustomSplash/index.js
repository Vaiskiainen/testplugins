(function(c,f,i,s,n,t,p,y,e){"use strict";const{FormSection:B,FormRow:r,FormInput:S,FormDivider:m}=p.Forms;i.findByProps("Button","ButtonColors","ButtonSizes")?.Button;const h=i.findByProps("launchImageLibrary");function I(){y.useProxy(s.storage);const[o,l]=e.React.useState(s.storage.splashURL||""),u=function(){s.storage.splashURL=o,n.showToast("Splash URL saved",t.getAssetIDByName("Check"))},d=async function(){if(!h){n.showToast("ImagePicker not found",t.getAssetIDByName("Small"));return}try{h.launchImageLibrary({mediaType:"photo",includeBase64:!1},function(a){if(!a.didCancel){if(a.errorCode){n.showToast("Error picking image",t.getAssetIDByName("Small"));return}a.assets&&a.assets.length>0&&l(a.assets[0].uri)}})}catch(a){console.error(a),n.showToast("Failed to open picker",t.getAssetIDByName("Small"))}};return e.React.createElement(B,{title:"Configuration"},e.React.createElement(S,{title:"Custom Splash Image URL",placeholder:"https://example.com/image.png",value:o,onChange:l}),e.React.createElement(m,null),e.React.createElement(r,{label:"Select from Gallery",leading:e.React.createElement(r.Icon,{source:t.getAssetIDByName("ic_image")}),onPress:d}),e.React.createElement(m,null),e.React.createElement(r,{label:"Save",leading:e.React.createElement(r.Icon,{source:t.getAssetIDByName("ic_save")}),onPress:u}))}let g;var R={onLoad:function(){const o=i.findByProps("getAssetIDByName");if(!o){console.error("CustomSplash: AssetModule not found"),n.showToast("CustomSplash: AssetModule not found",t.getAssetIDByName("Small"));return}const l=["logo","LaunchScreen","Splash","SimpleSplash"];g=f.patcher.after("getAssetIDByName",o,function([u],d){return s.storage.splashURL&&l.includes(u)?{uri:s.storage.splashURL}:d}),n.showToast("CustomSplash: Patched asset system",t.getAssetIDByName("Check"))},onUnload:function(){g?.()},settings:I};return c.default=R,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta,vendetta.metro,vendetta.plugin,vendetta.ui.toasts,vendetta.ui.assets,vendetta.ui.components,vendetta.storage,vendetta.metro.common);
