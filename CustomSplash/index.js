(function(u,g,c,l,s,n,S,B,a){"use strict";const{FormSection:v,FormRow:i,FormInput:R,FormDivider:f}=S.Forms;c.findByProps("Button","ButtonColors","ButtonSizes")?.Button;const y=c.findByProps("launchImageLibrary");function I(){B.useProxy(l.storage);const[e,r]=a.React.useState(l.storage.splashURL||""),o=function(){l.storage.splashURL=e,s.showToast("Splash URL saved",n.getAssetIDByName("Check"))},d=async function(){if(!y){s.showToast("ImagePicker not found",n.getAssetIDByName("Small"));return}try{y.launchImageLibrary({mediaType:"photo",includeBase64:!1},function(t){if(!t.didCancel){if(t.errorCode){s.showToast("Error picking image",n.getAssetIDByName("Small"));return}t.assets&&t.assets.length>0&&r(t.assets[0].uri)}})}catch(t){console.error(t),s.showToast("Failed to open picker",n.getAssetIDByName("Small"))}};return a.React.createElement(v,{title:"Configuration"},a.React.createElement(R,{title:"Custom Splash Image URL",placeholder:"https://example.com/image.png",value:e,onChange:r}),a.React.createElement(f,null),a.React.createElement(i,{label:"Select from Gallery",leading:a.React.createElement(i.Icon,{source:n.getAssetIDByName("ic_image")}),onPress:d}),a.React.createElement(f,null),a.React.createElement(i,{label:"Save",leading:a.React.createElement(i.Icon,{source:n.getAssetIDByName("ic_save")}),onPress:o}))}let m;function p(e){if(!e||!e.props)return!1;let r=!1;if(e.props.source&&(e.props.source={uri:l.storage.splashURL},e.props.resizeMode="contain",r=!0),e.props.children)if(Array.isArray(e.props.children))for(const o of e.props.children)p(o)&&(r=!0);else p(e.props.children)&&(r=!0);return r}var L={onLoad:function(){let e="default",r=null;const o=c.findByProps("LaunchScreen");if(o&&(r=o,e="LaunchScreen",o.default&&(e="default")),!r){const t=c.findByDisplayName("LaunchScreen");t&&(t.prototype&&t.prototype.render?(r=t.prototype,e="render"):console.log("Found LaunchScreen via displayName but it is functional"))}if(!r){const t=c.findByDisplayName("Splash");t&&t.prototype&&t.prototype.render&&(r=t.prototype,e="render")}if(!r){console.error("CustomSplash: LaunchScreen not found"),s.showToast("CustomSplash: LaunchScreen not found",n.getAssetIDByName("Small"));return}s.showToast(`Patching ${e}`,n.getAssetIDByName("Check"));const d=function(t,h){if(!l.storage.splashURL)return h;try{p(h)}catch(C){console.error("CustomSplash: Failed to replace image",C)}return h};m=g.patcher.after(e,r,d)},onUnload:function(){m?.()},settings:I};return u.default=L,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta,vendetta.metro,vendetta.plugin,vendetta.ui.toasts,vendetta.ui.assets,vendetta.ui.components,vendetta.storage,vendetta.metro.common);
