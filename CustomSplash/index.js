(function(u,I,i,t,n,a,p,y,e){"use strict";const{FormSection:B,FormRow:l,FormInput:g,FormDivider:h}=p.Forms;i.findByProps("Button","ButtonColors","ButtonSizes")?.Button;const f=i.findByProps("launchImageLibrary");function A(){y.useProxy(t.storage);const[o,c]=e.React.useState(t.storage.splashURL||""),[r,d]=e.React.useState(t.storage.splashAssetId||"1547"),v=function(){t.storage.splashURL=o,t.storage.splashAssetId=r,n.showToast("Settings saved",a.getAssetIDByName("Check"))},S=async function(){if(!f){n.showToast("ImagePicker not found",a.getAssetIDByName("Small"));return}try{f.launchImageLibrary({mediaType:"photo",includeBase64:!1},function(s){if(!s.didCancel){if(s.errorCode){n.showToast("Error picking image",a.getAssetIDByName("Small"));return}s.assets&&s.assets.length>0&&c(s.assets[0].uri)}})}catch(s){console.error(s),n.showToast("Failed to open picker",a.getAssetIDByName("Small"))}};return e.React.createElement(B,{title:"Configuration"},e.React.createElement(g,{title:"Custom Splash Image URL",placeholder:"https://example.com/image.png",value:o,onChange:c}),e.React.createElement(g,{title:"Target Asset ID",placeholder:"1547",value:r,onChange:d}),e.React.createElement(h,null),e.React.createElement(l,{label:"Select from Gallery",leading:e.React.createElement(l.Icon,{source:a.getAssetIDByName("ic_image")}),onPress:S}),e.React.createElement(h,null),e.React.createElement(l,{label:"Save",leading:e.React.createElement(l.Icon,{source:a.getAssetIDByName("ic_save")}),onPress:v}))}let m;var R={onLoad:function(){const o=i.findByProps("getAssetById");if(!o){console.error("CustomSplash: AssetModule (getAssetById) not found"),n.showToast("CustomSplash: AssetModule not found",a.getAssetIDByName("Small"));return}m=I.patcher.after("getAssetById",o,function([c],r){if(!t.storage.splashURL)return r;const d=parseInt(t.storage.splashAssetId||"1547");return c===d?{...r,uri:t.storage.splashURL}:r}),n.showToast("CustomSplash: Patched getAssetById",a.getAssetIDByName("Check"))},onUnload:function(){m?.()},settings:A};return u.default=R,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta,vendetta.metro,vendetta.plugin,vendetta.ui.toasts,vendetta.ui.assets,vendetta.ui.components,vendetta.storage,vendetta.metro.common);
