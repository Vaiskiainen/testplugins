(function(c,t,i,h){"use strict";const{Text:p,View:v}=t.ReactNative;let o;const y=function(){const n=i.findByProps("getVoiceStates","getVoiceState"),u=i.findByProps("getCurrentUser"),[e,r]=t.React.useState(null),[C,R]=t.React.useState(Date.now());if(t.React.useEffect(function(){const a=function(){const s=u.getCurrentUser();if(!s)return;const d=n.getVoiceState(s.id);d?.channelId&&!e&&r(Date.now()),!d?.channelId&&e&&r(null)};return n.addChangeListener(a),a(),function(){return n.removeChangeListener(a)}},[e]),t.React.useEffect(function(){if(!e)return;const a=setInterval(function(){return R(Date.now())},1e3);return function(){return clearInterval(a)}},[e]),!e)return null;const l=Math.floor((C-e)/1e3),w=Math.floor(l/60),f=l%60;return t.React.createElement(p,{style:{color:"#fff",fontSize:14,marginLeft:8,opacity:.9}},`${w}:${f<10?"0":""}${f}`)};var g={onLoad(){const n=i.findByName("ChannelHeader",!1);if(!n){console.log("[voiceTime] Could not find ChannelHeader");return}o=h.after("default",n,function(u,e){if(!e?.props?.children)return e;const r=Array.isArray(e.props.children)?[...e.props.children]:[e.props.children];return r.push(t.React.createElement(v,{style:{flexDirection:"row"}},t.React.createElement(y))),e.props.children=r,e})},onUnload(){o&&o()}};return c.default=g,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.metro.common,vendetta.metro,vendetta.patcher);
