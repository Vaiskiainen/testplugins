(function(o,n,r,h){"use strict";const{Text:y}=n.ReactNative;let s;const v=function(){const i=r.findByProps("getVoiceStates","getVoiceState"),u=r.findByProps("getCurrentUser"),[e,f]=n.React.useState(null),[t,c]=n.React.useState(Date.now());if(n.React.useEffect(function(){const a=function(){const p=u.getCurrentUser();if(!p)return;const g=i.getVoiceState(p.id);g?.channelId&&!e?f(Date.now()):!g?.channelId&&e&&f(null)};return i.addChangeListener(a),a(),function(){return i.removeChangeListener(a)}},[e]),n.React.useEffect(function(){if(!e)return;const a=setInterval(function(){c(Date.now())},1e3);return function(){return clearInterval(a)}},[e]),!e)return null;const l=Math.floor((t-e)/1e3),B=Math.floor(l/60),d=l%60,C=`${B}:${d<10?"0":""}${d}`;return n.React.createElement(y,{style:{color:"#FFFFFF",fontSize:14,marginLeft:10}},C)};var S={onLoad(){const i=r.findByProps("getVoiceStates","getVoiceState"),u=r.findByProps("getCurrentUser"),e=r.findByName("VoiceActivitySection")??r.findByProps("renderUserVolume")??r.findByProps("renderNoiseCancellationSection");if(!i||!e||!u){console.log("[voiceTime] Failed to find required modules");return}s=h.after("default",e,function(f,t){if(!t||!t.props)return t;const c=Array.isArray(t.props.children)?t.props.children:[t.props.children];return c.push(n.React.createElement(v)),t.props.children=c,t})},onUnload(){s&&s()}};return o.default=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro.common,vendetta.metro,vendetta.patcher);
